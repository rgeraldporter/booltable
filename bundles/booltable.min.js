!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("BoolTable",[],r):"object"==typeof exports?exports.BoolTable=r():e.BoolTable=r()}(window,function(){return function(e){var r={};function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=r,o.d=function(e,r,t){o.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,r){if(1&r&&(e=o(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)o.d(t,n,function(r){return e[r]}.bind(null,n));return t},o.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(r,"a",r),r},o.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},o.p="",o(o.s=0)}([function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=o(1),n=e=>!(!Array.isArray(e)||!e.length)&&e.some(e=>e),a=e=>!(!Array.isArray(e)||!e.length)&&e.every(e=>e),i=e=>!(!Array.isArray(e)||!e.length)&&new Set(e).size>1,s=e=>!(!Array.isArray(e)||!e.length)&&e.every(e=>!e),l=e=>({map:r=>l(r(e)),chain:r=>r(e),ap:r=>r.map(e),inspect:()=>`Truth(${e})`,join:()=>e,concat:r=>r.chain(r=>l(e.concat(r))),head:()=>Array.isArray(e)&&e.length?e[0]:[],tail:()=>Array.isArray(e)&&e.length?e[e.length-1]:[],isEmpty:()=>Boolean(!Array.isArray(e)||0===e.length),or:()=>n(e),and:()=>a(e),nor:()=>s(e),xor:()=>i(e),forkOr:(r,o)=>n(e)?o():r(),forkOrL:r=>n(e)?void 0:r(),forkOrR:r=>n(e)?r():void 0,forkAnd:(r,o)=>a(e)?o():r(),forkAndL:r=>a(e)?void 0:r(),forkAndR:r=>a(e)?r():void 0,forkXor:(r,o)=>i(e)?o():r(),forkXorL:r=>i(e)?void 0:r(),forkXorR:r=>i(e)?r():void 0,forkNor:(r,o)=>s(e)?o():r(),forkNorL:r=>s(e)?void 0:r(),forkNorR:r=>s(e)?r():void 0}),f={of:e=>Array.isArray(e)?l(e):(e=>(console.error("Decision must be passed parameters that adhere to the documented type. Value that was passed:",e),l([!1])))(e)};r.Truth=f;const c=e=>t.Maybe.of(e.find(e=>e[0])).map(e=>e[1](e[2])),p=e=>t.Maybe.of(e.slice().reverse().find(e=>e[0])).map(e=>e[1](e[2])),y=e=>t.Maybe.of(e.filter(e=>e[0])).map(e=>e.map(e=>e[1](e[2]))),u=e=>t.Maybe.of(e.find(e=>e[0])).map(e=>e[1]),d=e=>t.Maybe.of(e.slice().reverse().find(e=>e[0])).map(e=>e[1]),h=e=>t.Maybe.of(e.filter(e=>e[0])).map(e=>e.map(e=>e[1])),m=(e,r)=>{const o=[[3===r[0].length&&"first"===e,c],[3===r[0].length&&"last"===e,p],[3===r[0].length&&"any"===e,y],[3===r[0].length&&"number"==typeof e,(e=>r=>t.Maybe.of(r.filter(e=>e[0])).map(r=>r.slice(0,e)).map(e=>e.map(e=>e[1](e[2]))))(e)],["first"===e,u],["last"===e,d],["any"===e,h],[isFinite(e),(e=>r=>t.Maybe.of(r.filter(e=>e[0])).map(r=>r.slice(0,e)).map(e=>e.map(e=>e[1])))(e)]].find(e=>e[0]);return t.Maybe.of(o).fork(()=>console.error("condition table is broken"),e=>e[1](r))},b=e=>({map:r=>b(r(e)),chain:r=>r(e),ap:r=>r.map(e),inspect:()=>`Decision(${e})`,join:()=>e,concat:r=>r.chain(r=>b(e.concat(r))),head:()=>e[0],tail:()=>e[e.length-1],isEmpty:()=>Boolean(0===e.length),run:(r="first")=>m(r,e)}),A={of:e=>Array.isArray(e)&&Array.isArray(e[0])&&e[0].length>1&&e[0].length<4?b(e):(e=>(console.error("Decision must be passed parameters that adhere to the documented type. Value that was passed:",e),b([[!0,null]])))(e)};r.Decision=A;const g=e=>r=>t.Maybe.of(((e,r)=>r.find(r=>r[0]===e))(r,e)).map(e=>e.slice(-1).pop()).fork(e=>(console.warn("`if` condition not found: ",r),!1),e=>Boolean(e)),v=e=>({map:r=>v(r(e)),chain:r=>r(e),ap:r=>r.map(e),inspect:()=>`BoolTable(${e})`,join:()=>e,concat:r=>r.chain(r=>v(e.concat(r))),head:()=>Array.isArray(e)&&e.length?e[0]:[],tail:()=>Array.isArray(e)&&e.length?e[e.length-1]:[],isEmpty:()=>Boolean(!Array.isArray(e)||0===e.length),q:g(e),query:g(e)}),k={of:e=>Array.isArray(e)&&Array.isArray(e[0])&&2===e[0].length?v(e):(e=>(console.error("BoolTable must be passed parameters that adhere to the documented type. Value that was passed:",e),v([["there was a BoolTable type error",!0]])))(e)};r.BoolTable=k},function(e,r){const o=e=>({isJust:!0,isNothing:!1,inspect:r=>`Just(${e})`,map:r=>n.of(r(e)),ap:r=>r.map(e),chain:r=>r(e),join:r=>e,fork:(r,o)=>o(e),sequence:r=>e.map(n.of)}),t=e=>({isJust:!1,isNothing:!0,inspect:e=>"Nothing",map:e=>t(),ap:e=>t(),chain:e=>t(),join:e=>t(),fork:(e,r)=>e(),sequence:e=>e(t())}),n={of:e=>null===e||void 0===e?t():o(e)};e.exports={Maybe:n,Nothing:t,Just:o}}])});
//# sourceMappingURL=booltable.min.js.map